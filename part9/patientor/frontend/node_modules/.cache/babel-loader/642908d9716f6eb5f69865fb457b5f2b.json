{"ast":null,"code":"export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return { ...state,\n        patients: { ...action.payload.reduce((memo, patient) => ({ ...memo,\n            [patient.id]: patient\n          }), {}),\n          ...state.patients\n        }\n      };\n\n    case \"ADD_PATIENT\":\n      return { ...state,\n        patients: { ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n\n    case \"UPDATE_PATIENT\":\n      return { ...state,\n        patients: { ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n\n    case \"SET_DIAGNOSIS_LIST\":\n      return { ...state,\n        diagnosis: { ...action.payload.reduce((memo, diagnosis) => ({ ...memo,\n            [diagnosis.code]: diagnosis\n          }), {}),\n          ...state.diagnosis\n        }\n      };\n\n    default:\n      return state;\n  }\n};\nexport const importAllPatients = patientListFromApi => {\n  return {\n    type: \"SET_PATIENT_LIST\",\n    payload: patientListFromApi\n  };\n};\nexport const setOnePatientInfo = patient => {\n  return {\n    type: \"UPDATE_PATIENT\",\n    payload: patient\n  };\n};\nexport const addPatientToList = newPatient => {\n  return {\n    type: \"ADD_PATIENT\",\n    payload: newPatient\n  };\n};","map":{"version":3,"sources":["/Users/America/Documents/GitHub/fullstackopen-ekti-2020/part9/patientor/frontend/src/state/reducer.ts"],"names":["reducer","state","action","type","patients","payload","reduce","memo","patient","id","diagnosis","code","importAllPatients","patientListFromApi","setOnePatientInfo","addPatientToList","newPatient"],"mappings":"AAsBA,OAAO,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAeC,MAAf,KAAyC;AAC9D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,kBAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELG,QAAAA,QAAQ,EAAE,EACR,GAAGF,MAAM,CAACG,OAAP,CAAeC,MAAf,CACD,CAACC,IAAD,EAAOC,OAAP,MAAoB,EAAE,GAAGD,IAAL;AAAW,aAACC,OAAO,CAACC,EAAT,GAAcD;AAAzB,WAApB,CADC,EAED,EAFC,CADK;AAKR,aAAGP,KAAK,CAACG;AALD;AAFL,OAAP;;AAUF,SAAK,aAAL;AACE,aAAO,EACL,GAAGH,KADE;AAELG,QAAAA,QAAQ,EAAE,EACR,GAAGH,KAAK,CAACG,QADD;AAER,WAACF,MAAM,CAACG,OAAP,CAAeI,EAAhB,GAAqBP,MAAM,CAACG;AAFpB;AAFL,OAAP;;AAOF,SAAK,gBAAL;AACE,aAAM,EACJ,GAAGJ,KADC;AAEJG,QAAAA,QAAQ,EAAC,EACT,GAAGH,KAAK,CAACG,QADA;AAET,WAACF,MAAM,CAACG,OAAP,CAAeI,EAAhB,GAAqBP,MAAM,CAACG;AAFnB;AAFL,OAAN;;AAOF,SAAK,oBAAL;AACE,aAAM,EACJ,GAAGJ,KADC;AAEJS,QAAAA,SAAS,EAAE,EACT,GAAGR,MAAM,CAACG,OAAP,CAAeC,MAAf,CACD,CAACC,IAAD,EAAOG,SAAP,MAAsB,EAAE,GAAGH,IAAL;AAAW,aAACG,SAAS,CAACC,IAAX,GAAkBD;AAA7B,WAAtB,CADC,EAED,EAFC,CADM;AAKT,aAAGT,KAAK,CAACS;AALA;AAFP,OAAN;;AAUF;AACE,aAAOT,KAAP;AAxCJ;AA0CD,CA3CM;AA6CP,OAAO,MAAMW,iBAAiB,GAAGC,kBAAD,IAAwC;AACtE,SAAM;AACJV,IAAAA,IAAI,EAAE,kBADF;AAEJE,IAAAA,OAAO,EAAEQ;AAFL,GAAN;AAKD,CANM;AAQP,OAAO,MAAMC,iBAAiB,GAAIN,OAAD,IAA2B;AAC1D,SAAM;AACJL,IAAAA,IAAI,EAAE,gBADF;AAEJE,IAAAA,OAAO,EAAEG;AAFL,GAAN;AAID,CALM;AAOP,OAAO,MAAMO,gBAAgB,GAAGC,UAAD,IAA6B;AAC1D,SAAM;AACJb,IAAAA,IAAI,EAAE,aADF;AAEJE,IAAAA,OAAO,EAAEW;AAFL,GAAN;AAID,CALM","sourcesContent":["import { State, StateContext } from \"./state\";\nimport { Patient } from \"../types\";\nimport {Diagnosis} from \"../types\";\n\nexport type Action =\n    {\n      type: \"UPDATE_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_PATIENT_LIST\";\n      payload: Patient[];\n    }\n  | {\n      type:\"SET_DIAGNOSIS_LIST\";\n      payload: Diagnosis[];\n    }\n  | {\n      type: \"ADD_PATIENT\";\n      payload: Patient;\n    };\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return {\n        ...state,\n        patients: {\n          ...action.payload.reduce(\n            (memo, patient) => ({ ...memo, [patient.id]: patient }),\n            {}\n          ),\n          ...state.patients\n        }\n      };\n    case \"ADD_PATIENT\":\n      return {\n        ...state,\n        patients: {\n          ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n    case \"UPDATE_PATIENT\":\n      return{\n        ...state,\n        patients:{\n        ...state.patients,\n        [action.payload.id]: action.payload\n        }\n      }\n    case \"SET_DIAGNOSIS_LIST\":\n      return{\n        ...state,\n        diagnosis: {\n          ...action.payload.reduce(\n            (memo, diagnosis) => ({ ...memo, [diagnosis.code]: diagnosis }),\n            {}\n          ),\n          ...state.diagnosis\n        }\n      }\n    default:\n      return state;\n  }\n};\n\nexport const importAllPatients =(patientListFromApi: Patient[]):Action=>{\n  return{\n    type: \"SET_PATIENT_LIST\",\n    payload: patientListFromApi\n  }\n\n}\n\nexport const setOnePatientInfo = (patient: Patient):Action=>{\n  return{\n    type: \"UPDATE_PATIENT\",\n    payload: patient\n  }\n}\n\nexport const addPatientToList =(newPatient:Patient):Action=>{\n  return{\n    type: \"ADD_PATIENT\",\n    payload: newPatient\n  }\n}\n"]},"metadata":{},"sourceType":"module"}