{"ast":null,"code":"var _jsxFileName = \"/Users/America/Documents/GitHub/fullstackopen-ekti-2020/part9/patientor/frontend/src/PatientPage/index.tsx\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStateValue } from \"../state/state\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { apiBaseUrl } from \"../constants\";\n\nconst PatientPage = () => {\n  const id = useParams();\n  const [patient, setPatient] = useState();\n  const [, dispatch] = useStateValue();\n  useEffect(() => {\n    const fetchPatient = async () => {\n      try {\n        const {\n          data: patient\n        } = await axios.get(`${apiBaseUrl}/patients/${id.id}`);\n        setPatient(patient);\n        dispatch({\n          type: \"UPDATE_PATIENT\",\n          payload: patient\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchPatient();\n  }, [dispatch]);\n  console.log(patient);\n\n  if (!patient) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }\n  }, patient.name));\n};\n\nexport default PatientPage;","map":{"version":3,"sources":["/Users/America/Documents/GitHub/fullstackopen-ekti-2020/part9/patientor/frontend/src/PatientPage/index.tsx"],"names":["React","useParams","useStateValue","useEffect","useState","axios","apiBaseUrl","PatientPage","id","patient","setPatient","dispatch","fetchPatient","data","get","type","payload","e","console","log","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,aAAR,QAA4B,gBAA5B;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,cAAzB;;AAKA,MAAMC,WAAqB,GAAC,MAAI;AAC5B,QAAMC,EAAE,GAACP,SAAS,EAAlB;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAsBN,QAAQ,EAApC;AACA,QAAM,GAAGO,QAAH,IAAeT,aAAa,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMS,YAAY,GAAG,YAAS;AAC1B,UAAG;AACC,cAAM;AAACC,UAAAA,IAAI,EAAEJ;AAAP,YAAkB,MAAMJ,KAAK,CAACS,GAAN,CAAoB,GAAER,UAAW,aAAYE,EAAE,CAACA,EAAG,EAAnD,CAA9B;AACAE,QAAAA,UAAU,CAACD,OAAD,CAAV;AACAE,QAAAA,QAAQ,CAAC;AAACI,UAAAA,IAAI,EAAE,gBAAP;AAAyBC,UAAAA,OAAO,EAAEP;AAAlC,SAAD,CAAR;AACH,OAJD,CAIC,OAAMQ,CAAN,EAAQ;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ,KARD;;AASDL,IAAAA,YAAY;AACd,GAXQ,EAWN,CAACD,QAAD,CAXM,CAAT;AAaAO,EAAAA,OAAO,CAACC,GAAR,CAAYV,OAAZ;;AACD,MAAG,CAACA,OAAJ,EAAY;AACR,WAAO,IAAP;AACH;;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,OAAO,CAACW,IAAb,CADH,CADJ;AAMH,CA7BD;;AA8BA,eAAeb,WAAf","sourcesContent":["import React from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {useStateValue} from \"../state/state\";\nimport {useEffect, useState} from \"react\";\nimport {Patient} from \"../types\";\nimport axios from \"axios\";\nimport {apiBaseUrl} from \"../constants\";\n\n\n\n\nconst PatientPage: React.FC=()=>{\n    const id=useParams<{id: string}>();\n    const [patient, setPatient]=useState<Patient|undefined>();\n    const [, dispatch] = useStateValue();\n\n    useEffect(() => {\n        const fetchPatient = async()=>{\n            try{\n                const {data: patient} = await axios.get<Patient>(`${apiBaseUrl}/patients/${id.id}`)\n                setPatient(patient);\n                dispatch({type: \"UPDATE_PATIENT\", payload: patient})\n            }catch(e){\n                console.log(e)\n            } \n        }\n       fetchPatient()\n    }, [dispatch])\n\n    console.log(patient);\n   if(!patient){\n       return null\n   }\n\n    return(\n        <div>\n           <h2>{patient.name}</h2>\n           \n        </div>\n    )\n}\nexport default PatientPage"]},"metadata":{},"sourceType":"module"}