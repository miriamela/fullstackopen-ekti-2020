(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},20:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),u=(n(20),n(4)),l=n(2),i=n(3),m=n.n(i),d="https://secret-crag-54881.herokuapp.com/api/persons",f=function(){return m.a.get(d).then((function(e){return e.data}))},s=function(e){return m.a.post(d,e).then((function(e){return e.data}))},h=function(e){var t="".concat(d,"/").concat(e);return m.a.delete(t)},b=function(e,t){var n="".concat(d,"/").concat(e);return m.a.put(n,t).then((function(e){return e.data}))};n(38);var p=function(e){var t=e.searchInput,n=e.handleChange;return r.a.createElement("label",null,"filter:",r.a.createElement("input",{value:t,onChange:n}))};var v=function(e){var t=e.addName,n=e.newName,a=e.handleName,c=e.newNumber,o=e.handleNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:c,onChange:o})),r.a.createElement("button",{type:"submit"},"Add"))};var g=function(e){var t=e.contact,n=e.handleClick;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},e.name," ",e.number," ","",r.a.createElement("button",{name:e.name,type:"button",onClick:n},"Delete"))})))};var E=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{style:t.textStyle},t.text)};var y=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),m=i[0],d=i[1],y=Object(a.useState)(""),S=Object(l.a)(y,2),w=S[0],C=S[1],j=Object(a.useState)(""),k=Object(l.a)(j,2),O=k[0],N=k[1],x=Object(a.useState)(null),A=Object(l.a)(x,2),I=A[0],U=A[1],B={color:"green",fontStyle:"italic",fontSize:20,background:"lightGrey",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},D={color:"red",fontStyle:"italic",fontSize:20,background:"lightGrey",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},z=function(){setTimeout((function(){U(null)}),3e3)};Object(a.useEffect)((function(){f().then((function(e){return c(e)}))}),[]);var G=n.filter((function(e){return e.name.toUpperCase().includes(O.toUpperCase())}));return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Phonebook"),r.a.createElement(E,{message:I}),r.a.createElement(p,{searchInput:O,handleChange:function(e){var t=e.target.value;N(t)}}),r.a.createElement("h2",null,"Add a new:"),r.a.createElement(v,{addName:function(e){e.preventDefault();var t=n.filter((function(e){return e.name.toLowerCase()===m.toLowerCase()}));if(0===t.length){var a={name:m,number:w};s(a).then((function(e){c(n.concat(e)),U({text:"Added ".concat(a.name," contact"),textStyle:B}),z()}))}else{if(window.confirm("".concat(m," is already in your phonebook, do you want to replace the old number with a new one?"))){var r=n.find((function(e){return e.id===t[0].id})),o=Object(u.a)(Object(u.a)({},r),{},{number:w});b(t[0].id,o).then((function(e){c(n.map((function(n){return n.id!==t[0].id?n:e}))),U({text:"".concat(e.name.toUpperCase(),"'s contact has been successfully changed"),textStyle:B}),z()})).catch((function(e){U({text:"Information of ".concat(m," has already been removed from the server"),textStyle:D}),z()}))}}d(""),C("")},newName:m,handleName:function(e){var t=e.target.value;d(t)},newNumber:w,handleNumber:function(e){var t=e.target.value;C(t)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(g,{contact:G,handleClick:function(e){var t=e.currentTarget.name,a=n.filter((function(e){return e.name===t}));window.confirm("Delete ".concat(t,"?"))&&h(a[0].id).then((function(){c(n.filter((function(e){return e.id!==a[0].id}))),U({text:"".concat(t.toUpperCase()," has been successfully deleted"),textStyle:B}),z()}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1065eef0.chunk.js.map