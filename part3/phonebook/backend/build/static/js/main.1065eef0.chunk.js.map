{"version":3,"sources":["services/Persons.js","components/Filter.js","components/Form.js","components/Numbers.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","contact","post","id","newURL","delete","changedPerson","put","Filter","searchInput","handleChange","value","onChange","Form","addName","newName","handleName","newNumber","handleNumber","onSubmit","type","Numbers","handleClick","map","person","key","name","number","onClick","Notification","message","style","textStyle","text","App","useState","persons","setPersons","SetNewName","setNewNumber","setSearchInput","setMessage","infoStyleGreen","color","fontStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","infoStyleRed","settingTime","setTimeout","useEffect","personsService","initialPersons","filter","toUpperCase","includes","className","event","search","target","preventDefault","newContact","toLowerCase","length","returnPersons","concat","window","confirm","find","catch","error","entryName","entryNumber","currentTarget","deletedContact","deleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1065eef0.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"https://secret-crag-54881.herokuapp.com/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\nconst create = (contact) => {\n  const request = axios.post(baseUrl, contact);\n  return request.then((response) => response.data);\n};\nconst deleteUser = (id) => {\n  const newURL = `${baseUrl}/${id}`;\n  return axios.delete(newURL);\n};\nconst changeContact = (id, changedPerson) => {\n  const newURL = `${baseUrl}/${id}`;\n  const request = axios.put(newURL, changedPerson);\n  return request.then((response) => response.data);\n};\nexport default { getAll, create, deleteUser, changeContact };\n","import React from \"react\";\n\nfunction Filter({ searchInput, handleChange }) {\n  return (\n    <label>\n      filter:\n      <input value={searchInput} onChange={handleChange} />\n    </label>\n  );\n}\nexport default Filter;\n","import React from \"react\";\n\nfunction Form({ addName, newName, handleName, newNumber, handleNumber }) {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name:\n        <input value={newName} onChange={handleName} />\n      </div>\n      <div>\n        number:\n        <input value={newNumber} onChange={handleNumber} />\n      </div>\n      <button type=\"submit\">Add</button>\n    </form>\n  );\n}\nexport default Form;\n","import React from \"react\";\n\nfunction Numbers({ contact, handleClick }) {\n  return (\n    <ul>\n      {contact.map((person, id) => (\n        <li key={id}>\n          {person.name} {person.number} {\"\"}\n          <button name={person.name} type=\"button\" onClick={handleClick}>\n            Delete\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\nexport default Numbers;\n","import React from \"react\";\n\nfunction Notification({ message }) {\n  if (message === null) {\n    return null;\n  } else {\n    return <div style={message.textStyle}>{message.text}</div>;\n  }\n}\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport personsService from \"../services/Persons\";\nimport \"../App.css\";\nimport Filter from \"./Filter\";\nimport Form from \"./Form\";\nimport Numbers from \"./Numbers\";\nimport Notification from \"./Notification\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, SetNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  // style message\n  const infoStyleGreen = {\n    color: \"green\",\n    fontStyle: \"italic\",\n    fontSize: 20,\n    background: \"lightGrey\",\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  const infoStyleRed = {\n    color: \"red\",\n    fontStyle: \"italic\",\n    fontSize: 20,\n    background: \"lightGrey\",\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  // setting timer for message\n  const settingTime = () => {\n    setTimeout(() => {\n      setMessage(null);\n    }, 3000);\n  };\n  // getting data from server\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  // handleClick \"add\"\n  const addName = (event) => {\n    event.preventDefault();\n    const newContact = persons.filter(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n    if (newContact.length === 0) {\n      const contact = {\n        name: newName,\n        number: newNumber,\n      };\n      // console.log(contact);\n      personsService.create(contact).then((returnPersons) => {\n        setPersons(persons.concat(returnPersons));\n        setMessage({\n          text: `Added ${contact.name} contact`,\n          textStyle: infoStyleGreen,\n        });\n        settingTime();\n      });\n    } else {\n      const confirmationAdd = window.confirm(\n        `${newName} is already in your phonebook, do you want to replace the old number with a new one?`\n      );\n      if (confirmationAdd) {\n        const person = persons.find((person) => person.id === newContact[0].id);\n        const changedPerson = { ...person, number: newNumber };\n        personsService\n          .changeContact(newContact[0].id, changedPerson)\n          .then((changedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== newContact[0].id ? person : changedPerson\n              )\n            );\n            setMessage({\n              text: `${changedPerson.name.toUpperCase()}'s contact has been successfully changed`,\n              textStyle: infoStyleGreen,\n            });\n\n            settingTime();\n          })\n          .catch((error) => {\n            setMessage({\n              text: `Information of ${newName} has already been removed from the server`,\n              textStyle: infoStyleRed,\n            });\n            settingTime();\n          });\n      }\n    }\n    SetNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  // handleChange for name and number\n  const handleName = (event) => {\n    const entryName = event.target.value;\n    SetNewName(entryName);\n  };\n  const handleNumber = (event) => {\n    const entryNumber = event.target.value;\n    setNewNumber(entryNumber);\n  };\n  // search logic\n  const handleChange = (event) => {\n    const search = event.target.value;\n    setSearchInput(search);\n  };\n  const contact = persons.filter((person) =>\n    person.name.toUpperCase().includes(searchInput.toUpperCase())\n  );\n  // console.log(contact);\n  // console.log(Array.isArray(contact));\n  // delete button with confirmation\n  const handleClick = (event) => {\n    const name = event.currentTarget.name;\n    const deletedContact = persons.filter((person) => person.name === name);\n    const confirmationDelete = window.confirm(`Delete ${name}?`);\n    if (confirmationDelete) {\n      personsService.deleteUser(deletedContact[0].id).then(() => {\n        setPersons(\n          persons.filter((deleted) => deleted.id !== deletedContact[0].id)\n        );\n        setMessage({\n          text: `${name.toUpperCase()} has been successfully deleted`,\n          textStyle: infoStyleGreen,\n        });\n        settingTime();\n      });\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Phonebook</h1>\n      <Notification message={message}></Notification>\n      <Filter searchInput={searchInput} handleChange={handleChange}></Filter>\n      <h2>Add a new:</h2>\n      <Form\n        addName={addName}\n        newName={newName}\n        handleName={handleName}\n        newNumber={newNumber}\n        handleNumber={handleNumber}\n      ></Form>\n      <h2>Numbers</h2>\n      <Numbers contact={contact} handleClick={handleClick}></Numbers>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}